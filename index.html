<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>CLOCKWORK CYBER CORE</title>

<link rel="manifest" href="manifest.json" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icon.png">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Rye&family=Share+Tech+Mono&display=swap" rel="stylesheet">

<style>
/* === 基本設定 === */
:root {
    --bg-color: #050505;
    --neon-cyan: #00f3ff;
    --neon-pink: #ff0055;
    --neon-gold: #ffcc00;
    --steam-bronze: #cd7f32;
    --steam-dark: #1a1005;
}

body {
    margin: 0;
    background-color: var(--bg-color);
    color: #fff;
    font-family: 'Share Tech Mono', monospace;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    -webkit-touch-callout: none;
    user-select: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* === 背景装飾 === */
#bg-layer {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: -1;
    background: 
        radial-gradient(circle at center, #221100 0%, #000000 90%),
        repeating-linear-gradient(0deg, transparent 0, transparent 2px, rgba(0, 243, 255, 0.03) 3px);
    pointer-events: none;
}
.smoke {
    position: absolute;
    width: 100%; height: 100%;
    background: url('https://upload.wikimedia.org/wikipedia/commons/e/ec/Smoke_particle_assets.png'); /* ダミー用だが雰囲気出る */
    opacity: 0.1;
    animation: drift 20s linear infinite;
    z-index: -1;
}
@keyframes drift { from { background-position: 0 0; } to { background-position: 100% 0; } }

/* === 1. 中央時計 (Clockwork Core) === */
.clock-container {
    position: relative;
    width: 280px;
    height: 280px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 40px;
    filter: drop-shadow(0 0 15px var(--neon-gold));
}

/* 時計の盤面（巨大歯車） */
.clock-gear-face {
    position: absolute;
    width: 100%; height: 100%;
    animation: rotate-slow 60s linear infinite;
}
/* 盤面のSVGはHTML内に記述 */

/* 時計の針 */
.hand {
    position: absolute;
    bottom: 50%; left: 50%;
    transform-origin: bottom center;
    border-radius: 4px;
    z-index: 5;
    box-shadow: 0 0 5px #000;
}
.hand-hour {
    width: 6px; height: 70px;
    background: var(--steam-bronze);
    border: 1px solid var(--neon-gold);
}
.hand-min {
    width: 4px; height: 100px;
    background: var(--neon-cyan);
    box-shadow: 0 0 8px var(--neon-cyan);
}
.hand-sec {
    width: 2px; height: 120px;
    background: var(--neon-pink);
    box-shadow: 0 0 10px var(--neon-pink);
    transition: transform 0.1s cubic-bezier(0.4, 2.08, 0.55, 0.44); /* チクタク動くバネ感 */
}
.center-pin {
    position: absolute;
    width: 16px; height: 16px;
    background: var(--neon-gold);
    border-radius: 50%;
    z-index: 10;
    box-shadow: 0 0 10px var(--neon-gold);
}

/* === 2. 検索バー (Neon Input) === */
.search-box {
    position: relative;
    width: 80%;
    max-width: 350px;
    margin-bottom: 30px;
    z-index: 10;
}
input#search {
    width: 100%;
    background: rgba(0,0,0,0.7);
    border: 2px solid var(--steam-bronze);
    border-radius: 20px;
    padding: 12px 20px;
    color: var(--neon-cyan);
    font-family: 'Orbitron', sans-serif;
    font-size: 16px;
    text-shadow: 0 0 5px var(--neon-cyan);
    outline: none;
    transition: 0.3s;
    text-align: center;
}
input#search:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 20px var(--neon-cyan), inset 0 0 10px var(--neon-cyan);
}

/* === 3. 歯車ショートカット (Gear Shortcuts) === */
.gear-grid {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    width: 100%;
    max-width: 400px;
    z-index: 10;
}

.gear-btn {
    position: relative;
    width: 80px;
    height: 80px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: 0.3s;
    text-decoration: none;
}

/* 歯車の形 (SVG) */
.gear-shape {
    position: absolute;
    width: 100%; height: 100%;
    fill: rgba(30, 20, 10, 0.9);
    stroke: var(--steam-bronze);
    stroke-width: 2;
    transition: all 0.5s ease;
    filter: drop-shadow(0 0 5px var(--steam-bronze));
}

/* テキスト */
.gear-text {
    position: relative;
    z-index: 2;
    font-family: 'Orbitron', sans-serif;
    font-size: 10px;
    color: var(--neon-gold);
    text-shadow: 0 0 5px var(--neon-gold);
    font-weight: bold;
    text-align: center;
    pointer-events: none; /* ホバー干渉防止 */
}

/* ホバーアクション */
.gear-btn:active { transform: scale(0.95); }

.gear-btn:hover .gear-shape {
    fill: #331100;
    stroke: var(--neon-cyan);
    filter: drop-shadow(0 0 10px var(--neon-cyan));
    transform: rotate(180deg); /* ホバーで回転 */
}
.gear-btn:hover .gear-text {
    color: var(--neon-cyan);
    text-shadow: 0 0 10px var(--neon-cyan), 0 0 20px var(--neon-cyan);
}

/* === アニメーション === */
@keyframes rotate-slow { 100% { transform: rotate(360deg); } }

/* 画面揺れ */
.shake { animation: shake 0.3s cubic-bezier(.36,.07,.19,.97) both; }
@keyframes shake {
    10%, 90% { transform: translate3d(-1px, 0, 0); }
    20%, 80% { transform: translate3d(2px, 0, 0); }
}

/* 起動オーバーレイ */
#overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: #000;
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--neon-cyan);
    font-family: 'Orbitron';
    animation: fadeOut 2.5s forwards;
    pointer-events: none;
}
@keyframes fadeOut {
    0% { opacity: 1; }
    80% { opacity: 1; }
    100% { opacity: 0; }
}

</style>
</head>
<body>

    <div id="overlay">SYSTEM BOOTING...</div>
    <div id="bg-layer"><div class="smoke"></div></div>

    <div class="clock-container">
        <svg class="clock-gear-face" viewBox="0 0 100 100">
            <path d="M50 0 L55 8 L65 8 L68 18 L78 20 L80 30 L90 35 L88 45 L98 50 L88 55 L90 65 L80 70 L78 80 L68 82 L65 92 L55 92 L50 100 L45 92 L35 92 L32 82 L22 80 L20 70 L10 65 L12 55 L2 50 L12 45 L10 35 L20 30 L22 20 L32 18 L35 8 L45 8 Z" 
                  fill="none" stroke="#cca43b" stroke-width="1.5" />
            <circle cx="50" cy="50" r="35" stroke="#8b4513" stroke-width="1" fill="rgba(0,0,0,0.5)" />
            <circle cx="50" cy="50" r="30" stroke="#00f3ff" stroke-width="0.5" stroke-dasharray="2,2" />
            <text x="50" y="12" font-size="8" fill="#cca43b" text-anchor="middle" class="neon-text">12</text>
            <text x="88" y="52" font-size="8" fill="#cca43b" text-anchor="middle" class="neon-text">3</text>
            <text x="50" y="92" font-size="8" fill="#cca43b" text-anchor="middle" class="neon-text">6</text>
            <text x="12" y="52" font-size="8" fill="#cca43b" text-anchor="middle" class="neon-text">9</text>
        </svg>

        <div class="hand hand-hour" id="hour"></div>
        <div class="hand hand-min" id="min"></div>
        <div class="hand hand-sec" id="sec"></div>
        <div class="center-pin"></div>
    </div>

    <div class="search-box">
        <input type="text" id="search" placeholder="> COMMAND SEARCH...">
    </div>

    <div class="gear-grid">
        <a class="gear-btn" onclick="openLink('https://google.com')">
            <svg class="gear-shape" viewBox="0 0 100 100">
                <path d="M50 5 L56 15 L66 15 L72 25 L82 25 L88 35 L98 35 L92 45 L100 50 L92 55 L98 65 L88 65 L82 75 L72 75 L66 85 L56 85 L50 95 L44 85 L34 85 L28 75 L18 75 L12 65 L2 65 L8 55 L0 50 L8 45 L2 35 L12 35 L18 25 L28 25 L34 15 L44 15 Z" />
            </svg>
            <div class="gear-text">GOOGLE</div>
        </a>

        <a class="gear-btn" onclick="openLink('https://youtube.com')">
            <svg class="gear-shape" viewBox="0 0 100 100">
                <path d="M50 5 L56 15 L66 15 L72 25 L82 25 L88 35 L98 35 L92 45 L100 50 L92 55 L98 65 L88 65 L82 75 L72 75 L66 85 L56 85 L50 95 L44 85 L34 85 L28 75 L18 75 L12 65 L2 65 L8 55 L0 50 L8 45 L2 35 L12 35 L18 25 L28 25 L34 15 L44 15 Z" />
            </svg>
            <div class="gear-text">YOUTUBE</div>
        </a>

        <a class="gear-btn" onclick="openLink('https://x.com')">
            <svg class="gear-shape" viewBox="0 0 100 100">
                <path d="M50 5 L56 15 L66 15 L72 25 L82 25 L88 35 L98 35 L92 45 L100 50 L92 55 L98 65 L88 65 L82 75 L72 75 L66 85 L56 85 L50 95 L44 85 L34 85 L28 75 L18 75 L12 65 L2 65 L8 55 L0 50 L8 45 L2 35 L12 35 L18 25 L28 25 L34 15 L44 15 Z" />
            </svg>
            <div class="gear-text">X / NET</div>
        </a>

        <a class="gear-btn" onclick="openLink('https://chatgpt.com')">
            <svg class="gear-shape" viewBox="0 0 100 100">
                <path d="M50 5 L56 15 L66 15 L72 25 L82 25 L88 35 L98 35 L92 45 L100 50 L92 55 L98 65 L88 65 L82 75 L72 75 L66 85 L56 85 L50 95 L44 85 L34 85 L28 75 L18 75 L12 65 L2 65 L8 55 L0 50 L8 45 L2 35 L12 35 L18 25 L28 25 L34 15 L44 15 Z" />
            </svg>
            <div class="gear-text">AI CORE</div>
        </a>
    </div>

    <script>
        // === 時計の動作（ゼンマイ式風） ===
        const hHand = document.getElementById('hour');
        const mHand = document.getElementById('min');
        const sHand = document.getElementById('sec');

        function updateClock() {
            const d = new Date();
            const h = d.getHours();
            const m = d.getMinutes();
            const s = d.getSeconds();

            // 角度計算
            const sDeg = (s / 60) * 360;
            const mDeg = ((m + s / 60) / 60) * 360;
            const hDeg = ((h + m / 60) / 12) * 360;

            // 針を回転
            sHand.style.transform = `translateX(-50%) rotate(${sDeg}deg)`;
            mHand.style.transform = `translateX(-50%) rotate(${mDeg}deg)`;
            hHand.style.transform = `translateX(-50%) rotate(${hDeg}deg)`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // === リンク機能 ===
        function openLink(url) {
            document.body.classList.add('shake'); // 画面揺れ演出
            setTimeout(() => {
                window.location.href = url;
            }, 300);
        }

        // === 検索機能 ===
        const sBox = document.getElementById('search');
        sBox.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const q = sBox.value;
                if(q) location.href = `https://www.google.com/search?q=${encodeURIComponent(q)}`;
            }
        });

        // Service Worker登録（アプリ化対応）
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("service-worker.js");
        }
    </script>

</body>
</html>
