<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>CHAOS TERMINAL</title>

<link rel="manifest" href="manifest.json" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icon.png">

<link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=DotGothic16&family=Share+Tech+Mono&display=swap" rel="stylesheet">

<style>
/* === 基本設定 === */
:root {
    --c-bg: #050505;
    --c-neon-cyan: #00ffff;
    --c-neon-pink: #ff0055;
    --c-steam-gold: #cca43b;
    --c-steam-rust: #8b4513;
    --scan-line-color: rgba(0, 255, 255, 0.05);
}

body {
    margin: 0;
    background-color: var(--c-bg);
    color: #fff;
    font-family: 'Share Tech Mono', 'DotGothic16', monospace;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    -webkit-touch-callout: none;
    user-select: none;
}

/* === 起動画面 (Boot Screen) === */
#boot-screen {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: #000;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 20px;
    box-sizing: border-box;
    font-size: 14px;
    color: var(--c-neon-cyan);
    text-shadow: 0 0 5px var(--c-neon-cyan);
}
.boot-log { margin: 2px 0; }

/* === 背景エフェクト === */
#bg-layer {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 0;
    pointer-events: none;
    background: 
        radial-gradient(circle at center, #1a1a1a 0%, #000 100%),
        repeating-linear-gradient(0deg, transparent 0, transparent 2px, var(--scan-line-color) 3px);
    background-blend-mode: overlay;
}

/* 歯車 (背景) */
.gear-bg {
    position: absolute;
    fill: none;
    stroke: var(--c-steam-rust);
    stroke-width: 1;
    opacity: 0.3;
    animation: rotate 60s linear infinite;
}
@keyframes rotate { to { transform: rotate(360deg); } }

/* === メインUI (HUD) === */
#interface {
    position: relative;
    z-index: 10;
    width: 100%; height: 100%;
    display: grid;
    grid-template-rows: auto 1fr auto; /* ヘッダー / メイン / フッター */
    padding: 15px;
    box-sizing: border-box;
    opacity: 0; /* 起動後に表示 */
    transition: opacity 1s;
}

/* ヘッダー：時計とタイトル */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid var(--c-steam-gold);
    padding-bottom: 10px;
    background: rgba(0,0,0,0.6);
    box-shadow: 0 5px 15px rgba(204, 164, 59, 0.2);
}

.title {
    font-family: 'Black Ops One', cursive;
    font-size: 20px;
    color: var(--c-steam-gold);
    text-shadow: 2px 2px 0px var(--c-steam-rust);
    letter-spacing: 2px;
}

.clock-panel {
    border: 1px solid var(--c-steam-rust);
    padding: 5px 10px;
    background: #110d0a;
    color: #ffaa00;
    font-size: 22px;
    text-shadow: 0 0 8px #ff4400;
    border-radius: 4px;
}

/* メインエリア */
main {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 20px;
    position: relative;
}

/* 検索バー（ハッキングコンソール風） */
.hack-input-box {
    position: relative;
    width: 100%;
    margin-top: 20px;
}
.hack-input-box::before {
    content: ">";
    position: absolute;
    left: 10px; top: 50%;
    transform: translateY(-50%);
    color: var(--c-neon-cyan);
}
#searchBox {
    width: 100%;
    background: rgba(0, 20, 30, 0.8);
    border: 1px solid var(--c-neon-cyan);
    color: var(--c-neon-cyan);
    padding: 15px 10px 15px 30px;
    font-size: 16px;
    font-family: 'Share Tech Mono', monospace;
    outline: none;
    box-sizing: border-box;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
    transition: 0.2s;
}
#searchBox:focus {
    background: rgba(0, 40, 60, 0.9);
    box-shadow: 0 0 20px var(--c-neon-cyan);
}

/* ショートカットボタン（六角形ハニカム構造） */
.hex-grid {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 20px;
}
.hex-btn {
    width: 90px;
    height: 80px;
    background: rgba(20, 10, 5, 0.9);
    border: 2px solid var(--c-steam-gold);
    color: var(--c-steam-gold);
    clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    font-size: 12px;
    transition: 0.2s;
    text-decoration: none;
    box-shadow: inset 0 0 10px rgba(204, 164, 59, 0.3);
    text-align: center;
    position: relative;
}
.hex-btn:hover, .hex-btn:active {
    background: var(--c-steam-rust);
    color: #fff;
    transform: scale(1.05);
}
/* ボタン内のグリッチ演出用 */
.hex-btn::after {
    content: '';
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(transparent 50%, rgba(255,0,255,0.2) 50%);
    background-size: 100% 4px;
    pointer-events: none;
}

/* フッター：ログとステータス */
footer {
    display: flex;
    gap: 10px;
    height: 120px;
}

/* 左：圧力計（スチームパンク） */
.gauge-box {
    width: 80px;
    border: 2px solid var(--c-steam-rust);
    background: #000;
    border-radius: 50% 50% 0 0;
    position: relative;
    overflow: hidden;
}
.gauge-liquid {
    position: absolute;
    bottom: 0; left: 0;
    width: 100%;
    height: 60%;
    background: linear-gradient(to top, #ff0000, #ffaa00);
    opacity: 0.7;
    animation: liquidMove 3s infinite ease-in-out;
}
@keyframes liquidMove {
    0%, 100% { height: 60%; }
    50% { height: 75%; }
}
.gauge-label {
    position: absolute;
    bottom: 5px; width: 100%;
    text-align: center;
    font-size: 10px;
    color: #fff;
}

/* 右：ログウィンドウ（サイバーパンク） */
.log-window {
    flex: 1;
    border: 1px dashed var(--c-neon-pink);
    background: rgba(20, 0, 10, 0.8);
    padding: 10px;
    font-size: 11px;
    color: var(--c-neon-pink);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}
.log-line {
    border-left: 2px solid var(--c-neon-pink);
    padding-left: 5px;
    margin-bottom: 4px;
    opacity: 0.8;
}

/* === 全体グリッチエフェクト === */
.glitch-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 100;
    opacity: 0;
    background: rgba(255, 0, 0, 0.1);
}
@keyframes glitch-anim {
    0% { transform: translate(0); opacity: 0; }
    20% { transform: translate(-2px, 2px); opacity: 0.1; }
    40% { transform: translate(-2px, -2px); opacity: 0; }
    60% { transform: translate(2px, 2px); opacity: 0.1; clip-path: inset(10% 0 80% 0); }
    80% { transform: translate(2px, -2px); opacity: 0; }
    100% { transform: translate(0); opacity: 0; }
}
.screen-shake {
    animation: shake 0.3s cubic-bezier(.36,.07,.19,.97) both;
}
@keyframes shake {
    10%, 90% { transform: translate3d(-1px, 0, 0); }
    20%, 80% { transform: translate3d(2px, 0, 0); }
    30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
    40%, 60% { transform: translate3d(4px, 0, 0); }
}

</style>
</head>
<body>

    <div id="boot-screen"></div>

    <div id="bg-layer">
        <svg class="gear-bg" style="top: -20%; right: -20%; width: 80vh; height: 80vh;" viewBox="0 0 100 100">
             <path d="M50 0 L56 10 L68 8 L72 20 L84 18 L88 30 L100 30 L94 40 L100 50 L94 60 L100 70 L88 70 L84 82 L72 80 L68 92 L56 90 L50 100 L44 90 L32 92 L28 80 L16 82 L12 70 L0 70 L6 60 L0 50 L6 40 L0 30 L12 30 L16 18 L28 20 L32 8 L44 10 Z" />
        </svg>
    </div>

    <div class="glitch-overlay" id="glitch"></div>

    <div id="interface">
        <header>
            <div class="title">CHAOS<br>TERMINAL</div>
            <div class="clock-panel" id="clock">00:00:00</div>
        </header>

        <main>
            <div class="hack-input-box">
                <input type="text" id="searchBox" placeholder="ACCESS_CODE_REQUIRED...">
            </div>

            <div class="hex-grid">
                <a class="hex-btn" onclick="openApp('https://google.com')">GOOGLE<br>SEARCH</a>
                <a class="hex-btn" onclick="openApp('https://youtube.com')">VIDEO<br>ARCHIVE</a>
                <a class="hex-btn" onclick="openApp('https://x.com')">X<br>NETWORK</a>
                <a class="hex-btn" onclick="openApp('https://chatgpt.com')">A.I.<br>CORE</a>
                <a class="hex-btn" onclick="reloadSystem()">SYSTEM<br>REBOOT</a>
            </div>
        </main>

        <footer>
            <div class="gauge-box">
                <div class="gauge-liquid"></div>
                <div class="gauge-label">PRESSURE</div>
            </div>
            <div class="log-window" id="log-display">
                <div class="log-line">System initialized.</div>
            </div>
        </footer>
    </div>

    <script>
        // === 1. 起動シーケンス (Boot Sequence) ===
        const bootScreen = document.getElementById('boot-screen');
        const ui = document.getElementById('interface');
        const bootTexts = [
            "INITIALIZING BIOS...",
            "CHECKING MEMORY... OK",
            "LOADING DRIVERS... FAILED",
            "BYPASSING SECURITY PROTOCOLS...",
            "CONNECTING TO DARK WEB...",
            "STEAM PRESSURE: OPTIMAL",
            "NEURAL LINK: ESTABLISHED",
            "WELCOME USER."
        ];

        let lineIndex = 0;
        function playBootSequence() {
            if (lineIndex < bootTexts.length) {
                const p = document.createElement('div');
                p.className = 'boot-log';
                p.innerText = "> " + bootTexts[lineIndex];
                bootScreen.appendChild(p);
                lineIndex++;
                // ランダムな速度でテキストを表示
                setTimeout(playBootSequence, Math.random() * 300 + 100);
            } else {
                // 起動完了
                setTimeout(() => {
                    bootScreen.style.opacity = '0';
                    setTimeout(() => bootScreen.style.display = 'none', 500);
                    ui.style.opacity = '1';
                    startGlitchEffect(); // グリッチ開始
                }, 800);
            }
        }
        // ページ読み込み時に実行
        window.onload = playBootSequence;

        // === 2. 時計 (Clock) ===
        function updateClock() {
            const d = new Date();
            // ランダムに秒数がバグる演出を入れる
            let s = d.getSeconds();
            if (Math.random() > 0.95) s = Math.floor(Math.random() * 99); 
            
            document.getElementById('clock').innerText = 
                `${String(d.getHours()).padStart(2,'0')}:${String(d.getMinutes()).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
        }
        setInterval(updateClock, 100);

        // === 3. アプリ起動 & 画面揺れ演出 ===
        function openApp(url) {
            triggerShake();
            addLog("Opening gateway: " + url);
            setTimeout(() => {
                window.location.href = url;
            }, 300);
        }

        function reloadSystem() {
            triggerShake();
            location.reload();
        }

        function triggerShake() {
            document.body.classList.add('screen-shake');
            setTimeout(() => document.body.classList.remove('screen-shake'), 300);
        }

        // === 4. グリッチ演出 (Random Glitch) ===
        const glitchLayer = document.getElementById('glitch');
        function startGlitchEffect() {
            setInterval(() => {
                if (Math.random() > 0.7) { // 30%の確率で発生
                    glitchLayer.style.animation = 'glitch-anim 0.2s linear';
                    setTimeout(() => glitchLayer.style.animation = 'none', 200);
                }
            }, 2000);
        }

        // === 5. 検索機能 ===
        const sBox = document.getElementById('searchBox');
        sBox.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const q = sBox.value;
                addLog("Searching database for: " + q);
                setTimeout(() => {
                    location.href = `https://www.google.com/search?q=${encodeURIComponent(q)}`;
                }, 500);
            }
        });

        // === 6. ログ更新 ===
        const logDisplay = document.getElementById('log-display');
        const randomLogs = [
            "Packet loss detected...",
            "Warning: High temperature",
            "Unauthorized access blocked",
            "Downloading aesthetic patches...",
            "Steam valve #4 pressure rising",
            "Syncing with chaos network..."
        ];

        function addLog(text) {
            const div = document.createElement('div');
            div.className = 'log-line';
            div.innerText = "> " + text;
            logDisplay.appendChild(div);
            if (logDisplay.children.length > 4) logDisplay.removeChild(logDisplay.firstChild);
        }

        setInterval(() => {
            if(Math.random() > 0.6) addLog(randomLogs[Math.floor(Math.random() * randomLogs.length)]);
        }, 3000);

        // Service Worker
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("service-worker.js");
        }
    </script>
</body>
</html>
