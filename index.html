<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>NEON STEAM DEVICE</title>

<link rel="manifest" href="manifest.json" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icon.png">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  background: #000;
  font-family: 'Share Tech Mono', monospace;
  color: #fff;
  overflow: hidden; /* スクロール防止 */
  -webkit-touch-callout: none;
  user-select: none;
}

/* 起動時ノイズ画面 */
#startup {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: #000;
  z-index: 9999;
  animation: startupNoise 1.5s forwards;
  pointer-events: none;
}
@keyframes startupNoise {
  0% { opacity: 1; } 
  80% { opacity: 1; }
  100% { opacity: 0; display: none; }
}

/* CRTノイズ（画面全体のザラザラ感） */
#crt {
  position: fixed;
  pointer-events: none;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: url('https://upload.wikimedia.org/wikipedia/commons/3/3f/CRT_noise.gif');
  opacity: 0.08;
  z-index: 10;
  background-size: cover;
}

/* コンテンツ配置用コンテナ（中央寄せ） */
.container {
  position: relative;
  z-index: 5;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow-y: auto;
  padding-bottom: 20px;
}

/* タイトル（グリッチ + ネオン） */
#title {
  font-size: 28px;
  text-align: center;
  margin-top: 40px;
  color: #0affff;
  text-shadow: 0 0 8px #0affff;
  animation: glitch 1.5s infinite;
  letter-spacing: 2px;
}
@keyframes glitch {
  0% { text-shadow: 2px 0 #ff00f7; }
  50% { text-shadow: -2px 0 #38ff66; }
  100% { text-shadow: 2px 0 #ff00f7; }
}

/* 時計 */
#clock {
  font-size: 48px;
  text-align: center;
  margin-top: 10px;
  letter-spacing: 4px;
  color: #ff00f7;
  text-shadow: 0 0 10px #ff00f7, 2px 2px 0 #000;
}

/* ネオンちらつきアニメーション */
.neonFlicker {
  animation: flicker 2s infinite;
}
@keyframes flicker {
  0%,19%,21%,23%,25%,54%,56%,100% { opacity: 1; }
  20%,24%,55% { opacity: 0.3; }
}

/* 検索バー */
#searchBox {
  display: block;
  width: 80%;
  max-width: 400px;
  margin: 20px auto;
  padding: 12px;
  background: rgba(17, 17, 17, 0.8);
  border: 2px solid #0affff;
  color: #0affff;
  font-family: 'Share Tech Mono', monospace;
  font-size: 16px;
  border-radius: 8px;
  outline: none;
  box-shadow: 0 0 10px rgba(10, 255, 255, 0.3);
  transition: 0.3s;
}
#searchBox:focus {
  box-shadow: 0 0 20px #0affff;
  background: rgba(0, 30, 40, 0.9);
}

/* ショートカット */
.shortcuts {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 10px;
  gap: 15px;
  max-width: 400px;
}
.shortcut {
  width: 80px;
  height: 80px;
  background: rgba(26, 26, 26, 0.8);
  border: 2px solid #b87333;
  border-radius: 12px;
  color: #c4a484;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  box-shadow: 0 0 6px #b87333;
  font-size: 13px;
  transition: 0.2s;
  position: relative;
  overflow: hidden;
  cursor: pointer;
}
.shortcut:active {
  transform: scale(0.95);
  box-shadow: 0 0 15px #ff00f7;
  border-color: #ff00f7;
  color: #ff00f7;
}

/* 蒸気エフェクト（ボタン内） */
.steam {
  position: absolute;
  bottom: 0;
  width: 20px;
  height: 20px;
  background: rgba(255,255,255,0.4);
  filter: blur(8px);
  border-radius: 50%;
  animation: steamRise 2s linear infinite;
  pointer-events: none;
}
@keyframes steamRise {
  from { transform: translateY(0) scale(1); opacity: 0.7; }
  to { transform: translateY(-80px) scale(2); opacity: 0; }
}

/* 歯車アニメ */
#gearBox {
  width: 60px;
  height: 60px;
  margin: 20px auto;
  animation: rotateGear 10s linear infinite;
  filter: drop-shadow(0 0 5px #b87333);
}
@keyframes rotateGear {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* メモ帳エリア */
#memo {
  width: 80%;
  max-width: 400px;
  height: 100px;
  margin: 0 auto 20px auto;
  display: block;
  background: rgba(17, 17, 17, 0.8);
  border: 2px solid #38ff66;
  color: #38ff66;
  padding: 10px;
  border-radius: 10px;
  font-family: 'Share Tech Mono', monospace;
  font-size: 14px;
  box-shadow: 0 0 10px rgba(56, 255, 102, 0.3);
  outline: none;
  resize: none;
}

/* 語録エリア */
#quote {
  width: 80%;
  max-width: 400px;
  margin: 0 auto 30px auto;
  text-align: center;
  background: rgba(26, 26, 26, 0.8);
  padding: 15px;
  border-radius: 8px;
  border: 1px solid #ff00f7;
  font-size: 14px;
  box-shadow: 0 0 8px rgba(255, 0, 247, 0.4);
  color: #ff00f7;
  line-height: 1.5;
}

/* 背景動画 */
#bgVideo {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: -1;
  opacity: 0.4;
  filter: contrast(1.2) brightness(0.8);
}
</style>
</head>
<body>

<video id="bgVideo" autoplay loop muted playsinline src="https://files.catbox.moe/3a18zu.mp4"></video>

<div id="startup"></div>
<div id="crt"></div>

<div class="container">
  <div id="title" class="neonFlicker">NEON STEAM DEVICE</div>
  <div id="clock">00:00</div>

  <input id="searchBox" type="text" placeholder="SEARCH NETWORK...">

  <div class="shortcuts">
    <div class="shortcut" onclick="openLink('https://www.google.com')">
        Google<div class="steam"></div>
    </div>
    <div class="shortcut" onclick="openLink('https://www.youtube.com')">
        YouTube<div class="steam"></div>
    </div>
    <div class="shortcut" onclick="openLink('https://twitter.com')">
        X / TWITTER<div class="steam"></div>
    </div>
    <div class="shortcut" onclick="openLink('https://chatgpt.com')">
        ChatGPT<div class="steam"></div>
    </div>
  </div>

  <img id="gearBox" src="https://upload.wikimedia.org/wikipedia/commons/3/3a/Gear_icon.svg">

  <textarea id="memo" placeholder="LOG_MEMORY... (Auto Save)"></textarea>

  <div id="quote">Loading system message...</div>
</div>

<script>
// 時計機能
function updateClock() {
  const d = new Date();
  const h = String(d.getHours()).padStart(2, '0');
  const m = String(d.getMinutes()).padStart(2, '0');
  document.getElementById('clock').textContent = `${h}:${m}`;
}
setInterval(updateClock, 1000);
updateClock();

// 検索機能
const searchBox = document.getElementById('searchBox');
searchBox.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') {
    const q = searchBox.value;
    if (q) location.href = `https://www.google.com/search?q=${encodeURIComponent(q)}`;
  }
});

// リンクを開く機能
function openLink(url) {
  window.location.href = url;
}

// メモ自動保存機能
const memo = document.getElementById('memo');
memo.value = localStorage.getItem('memoData') || '';
memo.addEventListener('input', () => {
  localStorage.setItem('memoData', memo.value);
});

// 語録システム（修復・追記済み）
const quotes = [
  "深夜テンションは世界を救う。",
  "ネオンの下では嘘も光る。",
  "蒸気の音は心臓のリズム。",
  "サブカルは反逆のエネルギーだ。",
  "闇に落ちるな、闇を使え。",
  "現実とネットの境界線を探せ。",
  "SYSTEM: STABLE",
  "思考は蒸気のように拡散する。",
  "アクセス承認。ようこそ。"
];

// ランダムに語録を表示
const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
document.getElementById('quote').textContent = "> " + randomQuote;

// Service Worker登録（アプリ化対応）
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>
